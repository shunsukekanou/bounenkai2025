AI活用Webアプリケーション開発　完全ガイド
________________________________________
目次
【準備編】
1. 開発環境構築
•	環境構築とは
•	GitHubアカウント作成
•	GitHub Codespace起動
•	Claude Code導入
•	動作確認
2. 基礎知識
•	Webの仕組み（サーバー・クライアント・HTTP/HTTPS）
•	プログラミングとAIの関係
•	Claude Codeの基本操作
________________________________________
【開発基礎編】
3. はじめてのWebサイト作成
•	HTML/CSSの基本
•	自己紹介サイトを作る
•	レスポンシブデザイン
•	プレビュー確認方法
4. プロンプトエンジニアリング
•	プロンプトとは
•	効果的なプロンプトの4要素 
o	目的・ゴール（PURPOSE）
o	背景・状況（CONTEXT）
o	具体的な問い（QUESTION）
o	出力形式（OUTPUT）
________________________________________
【アプリケーション設計編】
5. 要件定義の基本
•	要件定義とは何か
•	MVPの概念
•	Claude Codeでのヒアリング方式
•	CLAUDE.mdの作成と活用
•	人とAIの役割分担
6. アプリケーション開発戦略
•	段階的開発（アジャイル）
•	バージョン管理（Git）の基礎
•	機能の優先順位付け
________________________________________
【実践開発編】
7. タスク管理アプリ開発（Part 1：基本機能）
所要時間：約30分
•	Step 1: 基本Todoアプリ作成（5分）
•	シンプルなTodo管理アプリを作成してください。
•	機能要件：
•	- タスクの追加（テキスト入力欄と追加ボタン）
•	- タスク一覧の表示（シンプルなリスト形式）
•	- シンプルで見やすいデザイン
•	削除機能や完了機能、ユーザーログイン機能などは後で追加するので、今回は含めないでください。
•	Step 2: タスク完了機能追加（8分）
•	現在のTodoアプリに、タスクの完了機能を追加してください。
•	追加要件：
•	- 各タスクにチェックボックスを追加
•	- チェックされたタスクは完了状態とし、テキストに取り消し線を表示
•	- 完了済みタスクと未完了タスクを視覚的に区別できるデザイン
•	既存の機能（タスク追加・表示）はそのまま残してください。
•	Step 3: タスク削除機能追加（5分）
•	現在のTodoアプリに、タスクの削除機能を追加してください。
•	追加要件：
•	- 各タスクに削除ボタン（×ボタンやゴミ箱アイコンなど）を追加
•	- 削除ボタンをクリックするとそのタスクを完全に削除
•	- 削除の確認ダイアログは不要（クリックで即削除）
•	既存の機能（タスク追加・表示・完了チェック）はそのまま残してください。
•	Step 4: 看板ボード風デザイン変更（8分）
•	現在のTodoアプリを看板ボード（カンバンボード）風のデザインに変更してください。
•	デザイン変更要件：
•	- 「未完了」「完了済み」の2つのカラム（列）に分けて表示
•	- 各カラムにヘッダーを追加（「未完了」「完了済み」など）
•	- タスクをカードのような見た目で表示
•	- モダンで美しいデザインに統一（影、角丸、色分けなど）
•	- レスポンシブデザイン（スマートフォンでも見やすい）
•	既存の機能（タスク追加・完了・削除）はそのまま残してください。
•	タスクはドラッグアンドドロップで動かせるようにしてください。
•	新しいタスクは「未完了」カラムに追加され、
•	完了チェックで「完了済み」カラムに移動するようにしてください。
•	Step 5: ログイン機能追加（10分）
•	現在のTodoアプリに、ユーザーの新規登録、ログイン・ログアウト機能を追加してください。
•	機能要件：
•	1. 新規登録機能
•	   - 新しいユーザーを登録できるフォーム（名前とメールアドレス入力）
•	   - 「新規登録」ボタンを追加
•	   - 登録成功後、そのユーザーで自動ログイン
•	2. ログイン前の画面
•	   - ユーザー選択ドロップダウン（田中太郎、佐藤花子、山田次郎）
•	   - 「ログイン」ボタン
•	   - 「新規登録」ボタンまたはリンク
•	   - シンプルなログイン画面デザイン
•	3. ログイン後の画面
•	   - 画面上部に「ようこそ、○○さん」と表示
•	   - 「ログアウト」ボタンを追加
•	   - ログインしたユーザーのタスクのみ表示・管理
•	4. 状態管理
•	   - ログイン状態をローカルストレージで保持
•	   - ページをリロードしてもログイン状態を維持
•	   - ユーザーごとのタスクを正しく分離
•	既存の機能（タスク追加・完了・削除・カンバンボード表示）はそのまま残してください。
•	Step 6: コメント機能追加（6分）
•	現在のTodoアプリに、タスクへのコメント機能を追加してください。
•	追加要件：
•	1. コメント表示機能
•	   - 各タスクカードの下にコメント一覧を表示
•	   - コメントには「投稿者名」と「内容」を表示
•	   - コメントが無い場合は「コメントはありません」と表示
•	2. コメント追加機能
•	   - 各タスクカードにコメント入力欄と追加ボタンを配置
•	   - 現在ログイン中のユーザーがコメント投稿者になる
•	   - コメント追加後は入力欄をクリア
•	3. デザイン
•	   - コメントは淡いグレー背景で区別
•	   - カンバンボードの各カード内に見やすく配置
•	   - タスクとコメントが視覚的に分かりやすい配置
•	既存の機能（ログイン・タスク追加・完了・削除・カンバンボード表示）はそのまま残してください。
8. データベース連携（Part 2：永続化）
所要時間：約30分
Supabaseセットアップ
1.	Supabaseアカウント作成
o	https://supabase.com にアクセス
o	「Start your project」をクリック
o	GitHubアカウントで登録
2.	プロジェクト作成
3.	プロジェクト名：my-todo-app-db
4.	データベースパスワード：覚えやすいパスワード
5.	Region：Northeast Asia (Tokyo)
6.	環境変数設定
7.	# .env.exampleを.env.localにコピー
8.	cp .env.example .env.local
.env.localに以下を設定：
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
9.	メール認証の無効化設定
o	Supabase管理画面 → Authentication → Sign in / Providers
o	「Confirm email」トグルをオフ
o	「Save changes」をクリック
データベース接続
•	Step 1: データベース連携（10分） 
•	Supabaseでデータベースを連携させたいです。以下の手順で進めてください：1. 必要なテーブル構造を提案してください2. Supabase SQL Editorで実行するSQLを生成してください3. Next.jsアプリとSupabaseを接続するコードを実装してください4. 既存のメモリベースのデータ管理をSupabaseに移行してくださいテーブルに含めるべき情報：- users（ユーザー情報）- tasks（タスク情報）- comments（コメント情報）
________________________________________
【セキュリティ編】
9. セキュリティの基本
•	Webアプリケーションのリスク
•	HTTPS通信の重要性
•	Next.js/Supabaseの標準セキュリティ機能
10. Supabase RLS（行レベルセキュリティ）
重要概念
•	RLSとは：データベース自体が「門番」になる仕組み
•	anon keyの役割と制限
•	auth.uid()による本人確認
基本ルール設定
1.	RLS有効化
2.	-- postsテーブルでRLSを有効にする
3.	ALTER TABLE public.posts ENABLE ROW LEVEL SECURITY;
4.	
5.	-- profilesテーブルでRLSを有効にする
6.	ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;
7.	AIへのポリシー作成依頼プロンプト
8.	Supabaseのデータベースに、行レベルセキュリティ(RLS)ポリシーを設定したいです。
9.	以下の要件を満たすための、テーブルごとのSQLポリシーを網羅的に生成してください。
10.	
11.	◾️ 前提条件
12.	- データベースにはprofilesテーブルとpostsテーブルが存在します
13.	- profilesテーブルにはユーザーIDを示すidカラムが、
14.	  postsテーブルには投稿者を示すuser_idカラムと、
15.	  公開状態を示すis_publishedカラム（boolean型）があります
16.	- Supabaseの認証機能を利用しており、
17.	  ログイン中のユーザーIDはauth.uid()で取得できます
18.	
19.	◾️ postsテーブルのRLSポリシー要件
20.	【SELECT (閲覧)】
21.	- is_publishedがtrueの投稿は、誰でも（ログインしていないユーザーも）閲覧可能とする
22.	- ログインしているユーザーは、自身のuser_idと一致する投稿を、
23.	  is_publishedの状態に関わらず閲覧可能とする
24.	
25.	【INSERT (作成)】
26.	- ログインしているユーザーは、自身のuser_idを持つ投稿のみ作成可能とする
27.	
28.	【UPDATE (更新)】
29.	- ログインしているユーザーは、自身のuser_idと一致する投稿のみ更新可能とする
30.	
31.	【DELETE (削除)】
32.	- ログインしているユーザーは、自身のuser_idと一致する投稿のみ削除可能とする
33.	
34.	◾️ profilesテーブルのRLSポリシー要件
35.	【SELECT (閲覧)】
36.	- 全てのプロフィール情報は、誰でも閲覧可能とする
37.	
38.	【UPDATE (更新)】
39.	- ログインしているユーザーは、自身のidと一致するプロフィールのみ更新可能とする
11. 代表的なサイバー攻撃と対策
•	XSS（クロスサイトスクリプティング）
•	SQLインジェクション
•	CSRF（クロスサイトリクエストフォージェリ）
•	セッションハイジャック
セキュリティチェックプロンプト
このアプリケーションのセキュリティに問題がないかチェックしてください。
特に以下の点を確認してください：
・ユーザーの個人情報は適切に保護されているか
・不正な操作を防ぐ仕組みはあるか
・パスワードなどの重要な情報が安全に管理されているか
・問題があれば、重要度と修正方法を教えてください
________________________________________
【法律・規約編】
12. 法律・規約の基礎知識
•	なぜ技術だけでは不十分か
•	利用規約とは
•	プライバシーポリシーとは
•	特定商取引法とは
13. 必須ドキュメント作成
1. プライバシーポリシー作成プロンプト
Webアプリケーションのプライバシーポリシーの草案を作成してください。
以下の情報を盛り込み、日本の個人情報保護法に準拠した、
一般的で分かりやすい文章でお願いします。

**サービス情報**
- サービス名: （あなたのサービス名）
- 事業者名: （あなたの名前または事業者名）
- 連絡先: （問い合わせ対応用のメールアドレス）

**取得する個人情報**
- ユーザー登録時に、メールアドレス、暗号化されたパスワードを取得します
- プロフィール設定画面で、ユーザーは任意でユーザー名を設定できます

**利用目的**
- ユーザー認証およびサービスの提供のため
- ユーザーからのお問い合わせに対応するため
- サービスに関する重要なお知らせを通知するため

**第三者提供について**
- 現在、Google Analyticsなどの第三者分析ツールは利用していません
- 法令に基づく場合を除き、本人の同意なく個人情報を第三者に提供することはありません

**その他**
- 個人情報の開示、訂正、削除を希望する場合の手続きについても記載してください
- Cookieの利用に関する基本的な記述を含めてください
2. 利用規約作成プロンプト
Webアプリケーションの利用規約の草案を作成してください。
以下の情報を盛り込み、ユーザーと運営者の双方にとって公平で、
分かりやすい内容でお願いします。

**サービス概要**
- （あなたのサービス名）は、ユーザーが日々の出来事を日記として記録し、
  任意で他のユーザーに共有できるWebサービスです

**禁止事項**
ユーザーは以下の行為を行ってはならないものとします：
- 法令または公序良俗に違反する行為
- 他のユーザー、第三者、または当社の著作権、商標権、プライバシー権、
  名誉等の権利を侵害する行為
- 他のユーザーに対する誹謗中傷
- 過度に暴力的な表現や、わいせつな表現を含む情報を投稿する行為
- その他、当社が不適切と判断する行為

**運営者の権利と免責事項**
- 運営者は、禁止事項に該当する投稿を、予告なく削除できるものとします
- 運営者は、ユーザーが本規約に違反したと判断した場合、
  アカウントを停止できるものとします
- 運営者は、システムの保守や障害により、予告なく本サービスを停止
  または中断できるものとします。これによりユーザーに生じた損害について、
  一切の責任を負いません

**その他**
- 利用規約の変更手続きについても記載してください
3. 特定商取引法に基づく表示作成プロンプト
Webサービスの「特定商取引法に基づく表示」ページを作成します。
以下の情報に基づいて、必要な項目を網羅した表示を作成してください。

- **販売事業者名**: （あなたの名前または事業者名）
- **運営統括責任者名**: （あなたの名前）
- **所在地**: 「お取引の際に請求があれば遅滞なく開示します」と記載してください
- **電話番号**: 「お取引の際に請求があれば遅滞なく開示します」と記載してください
- **メールアドレス**: （問い合わせ対応用のメールアドレス）
- **販売価格**: 月額〇〇円（税込）
- **商品代金以外の必要料金**: なし
- **支払方法**: クレジットカード決済
- **代金の支払時期**: ご利用プランの申込時
- **商品の引渡時期**: 決済完了後、即時利用可能
- **返品・キャンセルに関する特約**: デジタルコンテンツの特性上、
  購入確定後のキャンセル・返金についてはお受けできません
14. 関連法律ガイド
•	個人情報保護法
•	著作権法
•	プロバイダ責任制限法
•	電気通信事業法
________________________________________
【公開・運用編】
15. デプロイ（公開）準備
ビルドテスト【最重要】
# ビルドコマンド実行
npm run build
成功メッセージ例：
✓ Compiled successfully
✓ Linting and checking validity of types
✓ Collecting page data
✓ Generating static pages
✓ Finalizing page optimization
Gitコミット＆プッシュ
1.	左サイドバーの「ソース管理」アイコンをクリック
2.	コミットメッセージを入力（例：「看板ボード風タスク管理アプリの完成」）
3.	変更ファイルの「+」ボタンでステージング
4.	「コミット」ボタンをクリック
5.	「変更の同期」ボタンでプッシュ
16. Vercelでのデプロイ
1.	Vercelアカウント作成
o	https://vercel.com にアクセス
o	「Sign Up」→「Continue with GitHub」
2.	プロジェクトインポート
o	「Add New」→「Project」
o	GitHubリポジトリを選択
o	「Import」をクリック
3.	環境変数設定【重要】
4.	NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
5.	NEXT_PUBLIC_SUPABASE_ANON_KEY=your-supabase-anon-key
6.	Root Directory設定
o	「Edit」→「my-todo-app/my-todo-app」を選択
7.	デプロイ実行
o	「Deploy」ボタンをクリック
o	完成を待つ（数分）
17. Supabase最終設定
VercelのURLをSupabaseに登録
1.	Supabase管理画面 → Authentication → URL Configuration
2.	Site URLに設定： 
3.	https://your-app.vercel.app
4.	Redirect URLsに追加： 
5.	https://your-app.vercel.app/**
________________________________________
【トラブルシューティング】
18. よくあるエラーと解決方法
ビルドエラー
# エラーが出た場合のプロンプト例
〇〇というエラーが出ています。どのように解決できますか？
環境変数エラー
•	Vercel → Settings → Environment Variables で確認
•	変数名が正確か（大文字小文字も）
•	値に余計なスペースがないか
•	修正後は「Redeploy」ボタンで再デプロイ
認証エラー
•	Redirect URLsに/**が含まれているか確認
•	Site URLが正確か確認
•	HTTPSで始まっているか確認
________________________________________
【付録】
A. Claude Code設定ファイル
.claude/settings.local.jsonに記載する推奨設定
{
  "permissions": {
    "allow": [],
    "deny": [
      "Bash(sudo:*)",
      "Bash(rm:*)",
      "Bash(rm -rf:*)",
      "Read(.env.*)",
      "Read(id_rsa)",
      "Read(id_ed25519)",
      "Read(**/*token*)",
      "Read(**/*key*)",
      "Write(.env*)",
      "Write(**/secrets/**)",
      "Bash(curl:*)",
      "Bash(wget:*)",
      "Bash(nc:*)",
      "Bash(npm uninstall:*)",
      "Bash(npm remove:*)",
      "Bash(psql:*)",
      "Bash(mysql:*)",
      "Bash(mongod:*)",
      "mcp__supabase__execute_sql"
    ]
  }
}
B. 基本コマンド集
Claude Code
# インストール
npm install -g @anthropic-ai/claude-code

# 起動
claude

# 終了
exit または Ctrl+C
スラッシュコマンド
/init        # プロジェクト初期化（CLAUDE.md作成）
/clear       # 会話履歴クリア
/compact     # 会話を要約して整理
/help        # ヘルプ表示
/mcp         # MCP接続状況確認
ターミナル操作
pwd          # 現在のディレクトリを表示
ls           # ファイル一覧表示
cd dirname   # ディレクトリ移動
C. 参考リンク
•	公式ドキュメント
o	Claude Code: https://docs.claude.com
o	GitHub Codespace: https://docs.github.com/codespaces
o	Supabase: https://supabase.com/docs
o	Next.js: https://nextjs.org/docs
o	Vercel: https://vercel.com/docs
•	法律関連
o	個人情報保護委員会: https://www.ppc.go.jp
o	文化庁（著作権）: https://www.bunka.go.jp/seisaku/chosakuken
o	総務省（電気通信）: https://www.soumu.go.jp
________________________________________
完了チェックリスト
環境構築
•	[ ] GitHubアカウント作成完了
•	[ ] Claude Codeアカウント作成（Proプラン）
•	[ ] GitHub Codespace起動成功
•	[ ] Claude Code導入・認証完了
基礎開発
•	[ ] 自己紹介サイト作成完了
•	[ ] プロンプトの4要素を理解
•	[ ] CLAUDE.md作成経験
アプリケーション開発
•	[ ] タスク管理アプリ（基本機能）完成
•	[ ] Supabaseセットアップ完了
•	[ ] データベース連携成功
セキュリティ
•	[ ] RLS有効化完了
•	[ ] ポリシー設定完了
•	[ ] セキュリティチェック実施
法律・規約
•	[ ] プライバシーポリシー作成
•	[ ] 利用規約作成
•	[ ] 特定商取引法表示作成（有料サービスの場合）
デプロイ
•	[ ] ビルドテスト成功
•	[ ] Vercelデプロイ完了
•	[ ] Supabase URL設定完了
•	[ ] 本番環境での動作確認完了
________________________________________
このガイドに従って進めることで、セキュリティと法律を考慮した本格的なWebアプリケーションを、AI支援により効率的に開発・公開することができます。

