# 教育内容・記憶代替保存

## 重要な学習内容（2025-09-08）

### ❌ 失敗パターン
**「根本原因を特定しました」と言いながら、実際には部分的な推測で対処していた**
- 表面的なログ確認のみ
- データベーススキーマとコード実装の不整合を見逃し
- 複数コンポーネント間の依存関係を網羅的に確認しなかった

### ✅ 正しい確認手順

#### 1. **データベース完全確認**
- スキーマファイル読み込み（schema.sql等）
- 実際の列名・型・制約の完全把握
- コード内保存データとの1対1マッピング確認

#### 2. **コンポーネント依存関係完全マップ**
- 全てのimport文検索
- 同名・類似機能コンポーネントの並存確認
- MainDashboardでの実際の使用パターン特定

#### 3. **データフロー完全追跡**
- 保存 → onSuccess → handleSuccess → 状態更新 → 表示更新
- 各ステップでのログ出力とエラーハンドリング
- React Strict Mode・再マウント影響の考慮

#### 4. **抜け漏れ防止チェックリスト**
- [ ] データベーススキーマとの完全一致
- [ ] 全コンポーネントでの同一テーブル使用確認
- [ ] 状態管理（useState）の一貫性
- [ ] コールバック関数の実行保証
- [ ] エラーハンドリングの網羅性
- [ ] ログ出力による動作追跡可能性

### 💡 教訓
**「修正しました」ではなく「確認→特定→修正→検証」の完全サイクル必須**

絶対に推測や部分対処をせず、システム全体を俯瞰した網羅的確認を最優先とする。