# 🔔 チャイムシステム - AI開発協力者用統一通知システム (v4.0)

**改定日:** 2025-09-11  
**対象:** すべてのAI開発協力者（Claude, Gemini等）  
**目的:** 信頼性の高い通知による、ユーザーの作業中断時間削減と開発効率の向上

---

## 📋 システム概要 (v4.0)

**基本方針:**
- **確実性の担保:** Windows標準の文字コードで作成された `chime.bat` により、確実な動作を保証する。
- **統一性の維持:** すべてのAIが同じ `chime.bat` スクリプトを使用する。
- **シンプルな運用:** 「重要な操作には `scripts\chime.bat` を付ける」という単純なルールを徹底する。

---

## 🔔【最重要】通知実行コマンド (v4.0)

v4.0より、通知はすべて `scripts\chime.bat` を介して実行します。
このスクリプトは、**①チャイムを鳴らした直後に、②引数で渡されたコマンドを実行します。**

### 基本的な使い方
```bash
scripts\chime.bat [実行したいコマンド] [引数...]
```

### 実行例
**例1: パッケージをインストールする場合**
```bash
scripts\chime.bat npm install react-icons
```

**例2: 作業完了を報告する場合**
```bash
scripts\chime.bat echo "🔔 作業完了: 〇〇を実装しました。"
```

---

## 🎯 通知が必要なタイミング

**以下の操作を行う際は、必ず `chime.bat` を経由してください。**

### 1. **ユーザーの確認・承認が必要な操作**
- **ファイル操作:** `write_file`, `replace` などのツール実行前
- **パッケージ管理:** `npm install`, `npm uninstall` など
- **Git操作:** `git commit`, `git push` など
- **サーバー操作:** `npm run dev` の起動など

### 2. **作業の区切りを報告する時**
- **作業完了時:** `scripts\chime.bat echo "🔔 作業完了: [内容]"`
- **エラー報告時:** `scripts\chime.bat echo "❌ エラーが発生しました: [内容]"`
- **指示を待つ時:** `scripts\chime.bat echo "🔔 ご指示をお待ちしております。"`

---

## 🤖 AI引継時の重要事項

### 実装確認 (v4.0)
初回作業時に以下のテストを実行し、スクリプトが正常に動作することを確認してください。
```bash
scripts\chime.bat echo "🔔 チャイムシステム(v4.0) 動作確認"
```

---

## 📞 運用実績・改善履歴

### 2025-09-11 - v4.0: Shift_JISエンコードのバッチファイル方式（安定版）
- **変更内容:**
    - PowerShellで一時ファイルを生成し、それを `oem` エンコード（Shift_JIS）に変換して `chime.bat` を生成する方式を確立。
- **目的:** Windowsコマンドプロンプトとの文字コード互換性問題を完全に解決するため。
- **効果:** 確実な動作を保証。

---

**このシステム(v4.0)により、AIの種類や状態に依存しない、信頼性の高い通知が保証されます。**

